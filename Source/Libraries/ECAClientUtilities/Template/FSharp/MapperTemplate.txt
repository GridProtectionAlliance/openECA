// COMPILER GENERATED CODE
// THIS WILL BE OVERWRITTEN AT EACH GENERATION
// EDIT AT YOUR OWN RISK

namespace {ProjectName}.Model

open System
open System.Collections.Generic
open System.Linq
open System.Runtime.CompilerServices
open ECAClientFramework
open ECAClientUtilities
open ECAClientUtilities.Model
open {ProjectName}
open GSF.TimeSeries

[<CompilerGenerated>]
type public Mapper(lookup : SignalLookup, execute : {InputTypeName} -> {OutputTypeName}) =
    inherit MapperBase(lookup, "{InputMapping}")
    
    let m_execute = execute
    let mutable m_index = 0

    override this.Map(measurements) =
        m_index <- 0
        this.SignalLookup.UpdateMeasurementLookup(measurements)
        let inputMapping = this.MappingCompiler.GetTypeMapping(this.InputMapping)

        let input = this.Create{InputCategoryIdentifier}{InputTypeIdentifier}(inputMapping)

        let output = m_execute(input)

        // TODO: Later versions will publish output to the openECA server
        ()

    {MappingFunctions}